# 學生帳戶管理系統 - 測試計畫

**項目名稱：** 學生帳戶管理系統 (COBOL 舊系統)  
**版本：** 1.0  
**測試日期：** 2025-12-18  
**測試範圍：** 核心業務邏輯 (查看餘額、存款、提款)  

---

## 目錄

- [功能測試案例](#功能測試案例)
- [邊界值測試](#邊界值測試)
- [錯誤處理與驗證](#錯誤處理與驗證)
- [整合測試](#整合測試)

---

## 功能測試案例

### 查看餘額功能測試

| 測試案例 ID | 測試案例描述 | 前置條件 | 測試步驟 | 預期結果 | 實際結果 | 狀態 | 備註 |
|:---:|:---|:---|:---|:---|:---|:---:|:---|
| TC-001 | 查看初始餘額 | 應用程式啟動，尚未進行任何交易 | 1. 選擇菜單選項 1 (View Balance) | 系統顯示初始餘額 1000.00 | | | 驗證系統初始化正確 |
| TC-002 | 多次查看餘額 (不執行交易) | 應用程式啟動 | 1. 選擇菜單選項 1<br/>2. 返回菜單<br/>3. 再次選擇菜單選項 1<br/>4. 再次選擇菜單選項 1 | 系統每次都顯示相同的餘額 1000.00 | | | 驗證查看餘額不會改變餘額 |
| TC-003 | 查看餘額後返回菜單 | 應用程式啟動 | 1. 選擇菜單選項 1 (View Balance)<br/>2. 觀察返回菜單 | 顯示餘額後自動返回主菜單，可再次選擇操作 | | | 驗證流程控制正確 |

### 存款功能測試 - 正常情況

| 測試案例 ID | 測試案例描述 | 前置條件 | 測試步驟 | 預期結果 | 實際結果 | 狀態 | 備註 |
|:---:|:---|:---|:---|:---|:---|:---:|:---|
| TC-004 | 存入小金額 | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 2 (Credit Account)<br/>2. 輸入金額：100.00<br/>3. 驗證新餘額 | 系統顯示 "Amount credited. New balance: 001100.00"，新餘額 = 1000.00 + 100.00 | | | 基本存款功能測試 |
| TC-005 | 存入大金額 | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 2 (Credit Account)<br/>2. 輸入金額：50000.00<br/>3. 驗證新餘額 | 系統顯示 "Amount credited. New balance: 051000.00"，新餘額 = 1000.00 + 50000.00 = 51000.00 | | | 測試大金額處理能力 |
| TC-006 | 連續存入多次 | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 2，輸入 500.00<br/>2. 返回菜單<br/>3. 選擇菜單選項 2，輸入 300.00<br/>4. 驗證最終餘額 | 第一次存款後餘額為 1500.00；第二次存款後餘額為 1800.00 | | | 驗證多次交易的累積計算 |
| TC-007 | 存入金額為小數 (兩位小數) | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 2 (Credit Account)<br/>2. 輸入金額：123.45<br/>3. 驗證新餘額 | 系統正確處理小數，新餘額 = 1000.00 + 123.45 = 1123.45 | | | 驗證小數計算精度 |
| TC-008 | 存入金額為整數 (無小數) | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 2 (Credit Account)<br/>2. 輸入金額：50<br/>3. 驗證新餘額 | 系統正確處理，新餘額顯示為 1050.00 | | | 驗證整數到小數的轉換 |

### 提款功能測試 - 成功情況

| 測試案例 ID | 測試案例描述 | 前置條件 | 測試步驟 | 預期結果 | 實際結果 | 狀態 | 備註 |
|:---:|:---|:---|:---|:---|:---|:---:|:---|
| TC-009 | 提取小金額 | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 3 (Debit Account)<br/>2. 輸入金額：100.00<br/>3. 驗證新餘額 | 系統顯示 "Amount debited. New balance: 000900.00"，新餘額 = 1000.00 - 100.00 = 900.00 | | | 基本提款功能測試 |
| TC-010 | 提取大金額 (但不超出餘額) | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 3 (Debit Account)<br/>2. 輸入金額：999.00<br/>3. 驗證新餘額 | 系統顯示 "Amount debited. New balance: 000001.00"，新餘額 = 1000.00 - 999.00 = 1.00 | | | 測試大金額提款（餘額充足） |
| TC-011 | 提取金額至餘額為零 | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 3 (Debit Account)<br/>2. 輸入金額：1000.00<br/>3. 驗證新餘額 | 系統顯示 "Amount debited. New balance: 000000.00"，新餘額 = 0.00 | | | 驗證帳戶可以提至零但不能為負 |
| TC-012 | 連續提取多次 | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 3，輸入 200.00<br/>2. 返回菜單<br/>3. 選擇菜單選項 3，輸入 300.00<br/>4. 驗證最終餘額 | 第一次提款後餘額為 800.00；第二次提款後餘額為 500.00 | | | 驗證多次提款的累積計算 |
| TC-013 | 提取金額為小數 | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 3 (Debit Account)<br/>2. 輸入金額：50.50<br/>3. 驗證新餘額 | 系統正確處理小數，新餘額 = 1000.00 - 50.50 = 949.50 | | | 驗證小數提款計算 |

### 提款功能測試 - 失敗情況 (防止透支)

| 測試案例 ID | 測試案例描述 | 前置條件 | 測試步驟 | 預期結果 | 實際結果 | 狀態 | 備註 |
|:---:|:---|:---|:---|:---|:---|:---:|:---|
| TC-014 | 提取金額超過餘額 | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 3 (Debit Account)<br/>2. 輸入金額：1000.01<br/>3. 驗證餘額未變更 | 系統顯示 "Insufficient funds for this debit."，餘額保持 1000.00 不變 | | | 驗證防止透支 |
| TC-015 | 提取金額遠大於餘額 | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 3 (Debit Account)<br/>2. 輸入金額：50000.00<br/>3. 驗證餘額未變更 | 系統顯示 "Insufficient funds for this debit."，餘額保持 1000.00 不變 | | | 驗證防止大額透支 |
| TC-016 | 在零餘額時嘗試提取 | 應用程式啟動，先將餘額提至零 (參考 TC-011) | 1. 餘額已為 0.00<br/>2. 選擇菜單選項 3 (Debit Account)<br/>3. 輸入金額：0.01<br/>4. 驗證餘額未變更 | 系統顯示 "Insufficient funds for this debit."，餘額保持 0.00 不變 | | | 驗證零餘額時無法提取 |
| TC-017 | 多次失敗提款不影響餘額 | 應用程式啟動，餘額為 1000.00 | 1. 嘗試提取 2000.00（失敗）<br/>2. 返回菜單，查看餘額 (TC-002)<br/>3. 嘗試提取 3000.00（失敗）<br/>4. 返回菜單，查看最終餘額 | 每次失敗提款後，餘額仍為 1000.00；最終餘額仍為 1000.00 | | | 驗證失敗交易不影響帳戶狀態 |

---

## 邊界值測試

### 金額邊界測試

| 測試案例 ID | 測試案例描述 | 前置條件 | 測試步驟 | 預期結果 | 實際結果 | 狀態 | 備註 |
|:---:|:---|:---|:---|:---|:---|:---:|:---|
| TC-018 | 最小金額 (0.01) 存入 | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 2 (Credit Account)<br/>2. 輸入金額：0.01 | 系統接受交易，新餘額 = 1000.01 | | | 驗證最小交易單位 |
| TC-019 | 最小金額 (0.01) 提取 | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 3 (Debit Account)<br/>2. 輸入金額：0.01 | 系統接受交易，新餘額 = 999.99 | | | 驗證最小提款單位 |
| TC-020 | 零金額存入 | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 2 (Credit Account)<br/>2. 輸入金額：0.00 | 系統應接受交易或拒絕（視業務規則），餘額無變化或提示 | | | 邊界值測試：零金額 |
| TC-021 | 零金額提取 | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 3 (Debit Account)<br/>2. 輸入金額：0.00 | 系統應接受交易或拒絕（視業務規則），餘額無變化或提示 | | | 邊界值測試：零金額 |
| TC-022 | 最大允許金額存入 (999999.99) | 應用程式啟動，餘額為 1.00 | 1. 選擇菜單選項 2 (Credit Account)<br/>2. 輸入金額：999999.00<br/>3. 驗證餘額 | 系統接受交易，新餘額 = 1000000.00（或超出系統限制） | | | 驗證系統金額上限 |
| TC-023 | 提取金額等於當前餘額 | 應用程式啟動，餘額為 1000.00 | 1. 選擇菜單選項 3 (Debit Account)<br/>2. 輸入金額：1000.00 | 系統接受交易，新餘額 = 0.00 | | | 邊界條件：金額等於餘額 |

### 系統狀態邊界測試

| 測試案例 ID | 測試案例描述 | 前置條件 | 測試步驟 | 預期結果 | 實際結果 | 狀態 | 備註 |
|:---:|:---|:---|:---|:---|:---|:---:|:---|
| TC-024 | 應用程式啟動後立即查看餘額 | 應用程式剛啟動 | 1. 第一個選擇是菜單選項 1 (View Balance) | 系統顯示初始餘額 1000.00 | | | 驗證應用程式初始化狀態 |
| TC-025 | 多個操作的餘額一致性 | 應用程式啟動 | 1. 選擇菜單選項 2，存入 200.00（預期：1200.00）<br/>2. 選擇菜單選項 1，查看餘額<br/>3. 選擇菜單選項 1，再次查看餘額 | 查看到的餘額都是 1200.00，確保資料一致性 | | | 驗證餘額同步一致 |

---

## 錯誤處理與驗證

### 無效輸入測試

| 測試案例 ID | 測試案例描述 | 前置條件 | 測試步驟 | 預期結果 | 實際結果 | 狀態 | 備註 |
|:---:|:---|:---|:---|:---|:---|:---:|:---|
| TC-026 | 菜單選擇無效選項 (0) | 應用程式啟動 | 1. 在菜單提示處輸入 0<br/>2. 觀察系統反應 | 系統顯示 "Invalid choice, please select 1-4."，返回菜單 | | | 驗證輸入驗證 |
| TC-027 | 菜單選擇無效選項 (5) | 應用程式啟動 | 1. 在菜單提示處輸入 5<br/>2. 觀察系統反應 | 系統顯示 "Invalid choice, please select 1-4."，返回菜單 | | | 驗證上界檢查 |
| TC-028 | 菜單選擇無效選項 (負數) | 應用程式啟動 | 1. 在菜單提示處輸入 -1<br/>2. 觀察系統反應 | 系統顯示 "Invalid choice, please select 1-4." 或拒絕輸入，返回菜單 | | | 驗證負數檢查 |
| TC-029 | 菜單選擇無效選項 (文字) | 應用程式啟動 | 1. 在菜單提示處輸入 "abc"<br/>2. 觀察系統反應 | 系統顯示 "Invalid choice, please select 1-4." 或拒絕輸入，返回菜單 | | | 驗證非數字輸入 |
| TC-030 | 金額輸入為負數 (存款) | 應用程式啟動 | 1. 選擇菜單選項 2 (Credit Account)<br/>2. 輸入金額：-100.00<br/>3. 觀察系統反應 | 系統應拒絕或警告，返回菜單，餘額不變 | | | 驗證金額符號驗證 |
| TC-031 | 金額輸入為負數 (提款) | 應用程式啟動 | 1. 選擇菜單選項 3 (Debit Account)<br/>2. 輸入金額：-100.00<br/>3. 觀察系統反應 | 系統應拒絕或警告，返回菜單，餘額不變 | | | 驗證金額符號驗證 |

### 數據精度測試

| 測試案例 ID | 測試案例描述 | 前置條件 | 測試步驟 | 預期結果 | 實際結果 | 狀態 | 備註 |
|:---:|:---|:---|:---|:---|:---|:---:|:---|
| TC-032 | 小數位數超過兩位 (存款) | 應用程式啟動 | 1. 選擇菜單選項 2 (Credit Account)<br/>2. 輸入金額：100.999<br/>3. 觀察系統如何處理 | 系統應截斷或四捨五入至兩位小數 | | | 驗證小數精度控制 |
| TC-033 | 小數位數超過兩位 (提款) | 應用程式啟動 | 1. 選擇菜單選項 3 (Debit Account)<br/>2. 輸入金額：50.555<br/>3. 觀察系統如何處理 | 系統應截斷或四捨五入至兩位小數 | | | 驗證小數精度控制 |
| TC-034 | 連續多次交易後的精度驗證 | 應用程式啟動，餘額為 1000.00 | 1. 存入 0.33<br/>2. 存入 0.33<br/>3. 存入 0.33<br/>4. 提取 0.99<br/>5. 查看餘額 | 餘額應為 1000.00（精度無誤差累積）或顯示預期的計算結果 | | | 驗證精度無誤差累積 |

---

## 整合測試

### 完整工作流程測試

| 測試案例 ID | 測試案例描述 | 前置條件 | 測試步驟 | 預期結果 | 實際結果 | 狀態 | 備註 |
|:---:|:---|:---|:---|:---|:---|:---:|:---|
| TC-035 | 完整應用程式流程 (查看-存入-查看-提取-查看-退出) | 應用程式啟動 | 1. 選擇 1，查看初始餘額<br/>2. 選擇 2，存入 500.00<br/>3. 選擇 1，查看新餘額<br/>4. 選擇 3，提取 200.00<br/>5. 選擇 1，查看最終餘額<br/>6. 選擇 4，退出 | 1. 顯示 1000.00<br/>2. 成功存入<br/>3. 顯示 1500.00<br/>4. 成功提取<br/>5. 顯示 1300.00<br/>6. 程式正常退出 | | | 完整端到端測試 |
| TC-036 | 拒絕交易不影響後續操作 | 應用程式啟動 | 1. 選擇 3，嘗試提取 2000.00（失敗）<br/>2. 選擇 1，查看餘額<br/>3. 選擇 2，存入 100.00<br/>4. 選擇 1，查看最終餘額 | 1. 拒絕訊息<br/>2. 餘額 1000.00<br/>3. 成功存入<br/>4. 餘額 1100.00 | | | 驗證失敗不破壞系統狀態 |
| TC-037 | 長時間應用程式運行穩定性 | 應用程式啟動 | 1. 執行 20 次隨機操作（查看、存入、提取混合）<br/>2. 驗證系統無崩潰、無資料丟失<br/>3. 查看最終餘額 | 系統穩定運行，無異常，最終餘額與記錄一致 | | | 穩定性與可靠性測試 |

### 系統操作流程測試

| 測試案例 ID | 測試案例描述 | 前置條件 | 測試步驟 | 預期結果 | 實際結果 | 狀態 | 備註 |
|:---:|:---|:---|:---|:---|:---|:---:|:---|
| TC-038 | 菜單導航一致性 | 應用程式啟動 | 1. 執行操作後返回菜單<br/>2. 再次執行不同操作<br/>3. 重複 5 次 | 每次操作後都正確返回菜單，菜單顯示一致 | | | 驗證流程控制 |
| TC-039 | 退出功能 | 應用程式啟動 | 1. 選擇菜單選項 4 (Exit)<br/>2. 觀察程式狀態 | 系統顯示 "Exiting the program. Goodbye!"，程式正常終止 | | | 驗證退出機制 |
| TC-040 | 快速連續操作 | 應用程式啟動 | 1. 快速連續輸入菜單選項和操作<br/>2. 執行 10 個快速操作不暫停<br/>3. 查看最終狀態 | 系統正確處理所有操作，無遺漏或混亂 | | | 驗證系統反應速度和正確性 |

---

## 測試執行總結

### 測試統計

| 項目 | 數量 |
|:---|---:|
| 總測試案例數 | 40 |
| 功能測試案例 | 13 |
| 邊界值測試案例 | 10 |
| 錯誤處理測試案例 | 10 |
| 整合測試案例 | 7 |

### 測試涵蓋範圍

- ✅ **查看餘額功能**：3 個測試案例
- ✅ **存款功能**：8 個測試案例（含邊界值和錯誤處理）
- ✅ **提款功能**：11 個測試案例（含成功、失敗、邊界值和錯誤處理）
- ✅ **菜單與流程控制**：8 個測試案例
- ✅ **系統整合**：7 個測試案例
- ✅ **數據完整性與精度**：4 個測試案例

### 測試標準

**通過標準 (Pass)：**
- 測試執行結果與預期結果相符
- 系統無崩潰或異常
- 資料計算正確，精度符合規格

**失敗標準 (Fail)：**
- 實際結果與預期結果不符
- 系統崩潰或拋出異常
- 資料計算錯誤或精度不符
- 業務規則未被正確執行

---

## 備註

### 對於 Node.js 應用程式的建議

基於此測試計畫，在轉換為 Node.js 應用程式時，建議：

1. **單元測試框架**：使用 Jest 或 Mocha，為每個功能模組建立測試
2. **整合測試**：使用 Supertest 或 Cypress 進行端到端測試
3. **測試覆蓋率**：目標達到 90% 以上的代碼覆蓋率
4. **模擬資料層**：使用 Mock 或 Stub 進行資料層的單元測試
5. **API 測試**：若 Node.js 應用為 API 服務，添加 API 請求/響應驗證

### 關鍵業務規則驗證要點

1. **防止透支**：系統必須驗證提款金額不能超過當前餘額
2. **初始餘額**：新帳戶自動初始化為 1000.00
3. **精度控制**：所有金額必須保留到小數點後兩位
4. **交易原子性**：存款和提款操作必須是完整的讀取-計算-寫入流程
5. **資料一致性**：所有查詢應返回相同的當前餘額

---

**測試計畫版本控制**

| 版本 | 日期 | 作者 | 變更說明 |
|:---:|:---:|:---|:---|
| 1.0 | 2025-12-18 | 系統分析人員 | 初始版本，基於 COBOL 原系統分析 |

